<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>H·ªôp Qu√† ƒê·∫∑c Bi·ªát 12A1 - 20/10</title>
    <!-- T·∫£i Tailwind CSS ƒë·ªÉ ƒë·∫£m b·∫£o Responsive Design -->
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        /* C·∫•u h√¨nh Font v√† n·ªÅn chung */
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;700;900&display=swap');
        body {
            font-family: 'Inter', sans-serif;
            margin: 0;
            overflow: hidden;
            /* T√¥ng n·ªÅn h·ªìng ·∫•m h∆°n ƒë·ªÉ ch·ªØ n·ªïi b·∫≠t */
            background-color: #fbd3e5; 
            transition: background-color 2s ease-in-out;
            touch-action: manipulation;
        }

        /* --- HI·ªÜU ·ª®NG RUNG RINH V√Ä C·∫¶U V·ªíNG --- */

        @keyframes shake {
            0% { transform: translate(1px, 1px) rotate(0deg); }
            20% { transform: translate(-3px, 0px) rotate(-1deg); }
            40% { transform: translate(1px, -1px) rotate(1deg); }
            60% { transform: translate(-3px, 1px) rotate(0deg); }
            80% { transform: translate(-1px, -1px) rotate(-1deg); }
            100% { transform: translate(1px, 1px) rotate(0deg); }
        }

        .gift-box-shake { animation: shake 0.5s infinite; }

        .rainbow-text-glow {
            font-weight: 900;
            /* M√†u ch·ªØ ch√≠nh ƒë·ªïi sang T√≠m ƒê·∫≠m */
            color: #8b5cf6; 
            text-shadow:
                0 0 5px #ff0000, 0 0 8px #ff7f00, 0 0 11px #ffff00,
                0 0 14px #00ff00, 0 0 17px #0000ff, 0 0 20px #4b0082,
                0 0 23px #9400d3;
            transition: opacity 1s;
        }

        /* --- HI·ªÜU ·ª®NG CHUY·ªÇN C·∫¢NH V√Ä N·ªÄN --- */

        .viewport-container {
            height: 200vh; /* TƒÉng chi·ªÅu cao ƒë·ªÉ ch·ª©a v√πng th√¥ng ƒëi·ªáp */
            width: 100vw;
            transition: transform 3.5s cubic-bezier(0.5, 0, 0.5, 1);
            display: flex;
            flex-direction: column;
        }

        .viewport-opened {
            transform: translateY(-100vh); /* K√©o to√†n b·ªô viewport l√™n 100vh ƒë·ªÉ lia cam */
        }

        @keyframes color-pulse {
            0% { background-color: #f472b6; } /* H·ªìng ƒë·∫≠m h∆°n */
            50% { background-color: #e879f9; } /* T√≠m nh·∫°t */
            100% { background-color: #f472b6; }
        }

        .final-bg-pulse {
            animation: color-pulse 4s infinite alternate ease-in-out;
        }

        /* --- HI·ªÜU ·ª®NG HOA H·ªíNG R∆†I LI√äN T·ª§C --- */

        .rose-floating {
            position: absolute;
            color: #e30b5c;
            pointer-events: none;
            user-select: none;
            opacity: 0.8;
        }

        @keyframes float-up-down {
            0% { transform: translateY(0px) rotate(0deg); }
            50% { transform: translateY(-50px) rotate(5deg); }
            100% { transform: translateY(0px) rotate(0deg); }
        }

        .floating-rose-anim {
            animation: float-up-down 4s infinite ease-in-out;
        }

        .falling-rose {
            position: absolute;
            top: -10vh;
            color: #e30b5c;
            animation: fall linear infinite;
        }

        @keyframes fall {
            to {
                transform: translateY(105vh) rotate(360deg);
            }
        }

        /* Container cho ph·∫ßn th√¥ng ƒëi·ªáp sau khi m·ªü */
        .gift-message {
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            height: 100vh;
            width: 100%;
            background: rgba(255, 255, 255, 0.98); /* √Ånh s√°ng tr·∫Øng */
            opacity: 0;
            transition: opacity 2s ease-in 1s;
        }

        /* V√πng hi·ªÉn th·ªã ch·ªØ */
        #messageContent {
            overflow: hidden;
            white-space: pre-wrap;
            opacity: 0;
            transition: opacity 0.5s;
        }

    </style>
</head>
<body>

    <!-- CONTAINER CH√çNH - Ch·ª©a c·∫£ 2 m√†n h√¨nh ƒë·ªÉ th·ª±c hi·ªán hi·ªáu ·ª©ng LIA CAM -->
    <div id="viewportContainer" class="viewport-container">

        <!-- M√ÄN H√åNH CH·ªú (SCREEN 1) -->
        <div class="flex flex-col items-center justify-center h-screen w-full p-4 relative">
            
            <!-- CH·ªÆ NI√äN KH√ìA 23 - 26 (M·ªöI TH√äM) -->
            <p class="text-xl sm:text-2xl lg:text-3xl text-center mb-2 font-bold text-purple-700 shadow-md">
                NI√äN KH√ìA 23 - 26
            </p>

            <!-- D√≤ng ch·ªØ l·ªõn (Responsive) -->
            <h1 class="text-3xl sm:text-4xl lg:text-6xl text-center mb-3 rainbow-text-glow uppercase tracking-wider max-w-4xl mx-auto">
                H·ªòP QU√Ä M√Ä CH√öNG M√åNH D√ÄNH T·∫∂NG CHO C√ÅC B·∫†N
            </h1>

            <!-- D√≤ng ch·ªØ nh·ªè (Responsive) -->
            <p class="text-base sm:text-xl lg:text-2xl text-center mb-8 rainbow-text-glow font-bold">
                NH·∫§N V√ÄO ƒê·ªÇ M·ªû QU√Ä
            </p>

            <!-- H·ªòP QU√Ä (EMOJI üéÅ) -->
            <div id="giftBoxContainer"
                 class="gift-box-shake w-32 h-32 sm:w-40 sm:h-40 cursor-pointer flex items-center justify-center"
                 onclick="openGift()">
                <!-- Emoji H·ªôp Qu√† (K√≠ch th∆∞·ªõc l·ªõn) -->
                <span id="giftEmoji" class="text-[100px] sm:text-[130px] transition-all duration-300 ease-out">üéÅ</span>
            </div>

            <!-- Hoa h·ªìng bay l∆∞·ª£n (s·∫Ω ƒë∆∞·ª£c th√™m b·∫±ng JS) -->
            <div id="roseContainer"></div>

        </div>

        <!-- V√ôNG TH√îNG ƒêI·ªÜP (SCREEN 2) -->
        <div id="giftMessageContainer" class="gift-message">
            <div id="innerLight" class="p-6 sm:p-10 rounded-xl bg-white shadow-2xl max-w-md md:max-w-3xl w-full mx-auto">
                <h2 class="text-2xl sm:text-4xl font-extrabold text-purple-700 mb-4 sm:mb-6 border-b-4 border-purple-700 pb-2">
                    L·ªúI CH√öC T·ª™ T·∫¨P TH·ªÇ NAM SINH 12A1
                </h2>
                <!-- V√πng ch·ª©a ch·ªØ s·∫Ω ƒë∆∞·ª£c hi·ªán th·ªã d·∫ßn d·∫ßn -->
                <div class="text-sm sm:text-lg text-gray-800 text-left leading-relaxed space-y-3 sm:space-y-4">
                    <p id="messageContent" class="min-h-[100px]"></p>
                </div>
            </div>
            <!-- Container cho hoa h·ªìng r∆°i li√™n t·ª•c -->
            <div id="fallingRoseContainer" class="absolute inset-0 z-0 pointer-events-none"></div>
        </div>

    </div>

    <!-- FACEBOOK LOGO (FIXED POSITION) -->
    <a href="https://www.facebook.com/share/14Levyv4joV/" target="_blank" class="fixed bottom-5 right-5 z-50 transition duration-300 hover:scale-110 p-2" aria-label="Li√™n k·∫øt t·ªõi trang Facebook c√° nh√¢n">
        <!-- Icon Facebook SVG nh·ªè -->
        <svg class="w-7 h-7 sm:w-8 sm:h-8 text-blue-600 rounded-full bg-white p-1 shadow-lg" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor">
            <path d="M22 12C22 6.47715 17.5228 2 12 2C6.47715 2 2 6.47715 2 12C2 17.0267 5.7176 21.2343 10.6053 21.9213V14.8943H7.90117V12H10.6053V9.75704C10.6053 7.12643 12.1837 5.6792 14.498 5.6792C15.5878 5.6792 16.7171 5.87532 16.7171 5.87532V8.30906H15.421C14.1627 8.30906 13.7548 9.07923 13.7548 9.87895V12H16.5133L16.0827 14.8943H13.7548V21.9213C18.6424 21.2343 22 17.0267 22 12Z"/>
        </svg>
    </a>

    <!-- Logic m·ªü qu√† v√† hi·ªáu ·ª©ng (Ho√†n to√†n Client-side) -->
    <script>
        const viewportContainer = document.getElementById('viewportContainer');
        const giftBoxContainer = document.getElementById('giftBoxContainer');
        const giftEmoji = document.getElementById('giftEmoji');
        const roseContainer = document.getElementById('roseContainer');
        const giftMessageContainer = document.getElementById('giftMessageContainer');
        const messageContent = document.getElementById('messageContent');
        const fallingRoseContainer = document.getElementById('fallingRoseContainer');

        let giftOpened = false;
        let fallInterval;

        const FULL_MESSAGE = `
            G·ª≠i t·∫∑ng *c√°c b·∫°n n·ªØ* xinh ƒë·∫πp *12A1* v√† *C√¥ gi√°o ch·ªß nhi·ªám* k√≠nh m·∫øn!

            Nh√¢n ng√†y 20/10, ch√∫ng em xin g·ª≠i l·ªùi ch√∫c ch√¢n th√†nh nh·∫•t. Ch√∫c c√°c b·∫°n v√† C√¥ lu√¥n xinh ƒë·∫πp, r·∫°ng r·ª°, g·∫∑t h√°i nhi·ªÅu th√†nh c√¥ng, v√† l√† ngu·ªìn c·∫£m h·ª©ng b·∫•t t·∫≠n cho c·∫£ l·ªõp. C·∫£m ∆°n v√¨ ƒë√£ c√πng ch√∫ng em t·∫°o n√™n nh·ªØng k·ª∑ ni·ªám ƒë√°ng nh·ªõ trong su·ªët nh·ªØng nƒÉm th√°ng h·ªçc tr√≤ n√†y.

            Tr√¢n tr·ªçng,
            T·∫≠p th·ªÉ nam sinh 12A1.
        `;

        // --- H√ÄM T·∫†O HI·ªÜU ·ª®NG HOA H·ªíNG ---

        // H√†m t·∫°o hoa h·ªìng bay l∆∞·ª£n (tr∆∞·ªõc khi m·ªü)
        function createFloatingRose() {
            const rose = document.createElement('span');
            rose.classList.add('rose-floating', 'text-2xl', 'absolute', 'floating-rose-anim');
            rose.innerHTML = '&#x1F339;';
            rose.style.left = `${Math.random() * 100}vw`;
            rose.style.animationDuration = `${Math.random() * 3 + 4}s`;
            rose.style.animationDelay = `${Math.random() * 2}s`;
            roseContainer.appendChild(rose);
        }

        // T·∫°o 20 b√¥ng hoa h·ªìng ban ƒë·∫ßu bay l∆∞·ª£n
        for (let i = 0; i < 20; i++) {
            createFloatingRose();
        }

        // H√†m t·∫°o c√°nh hoa r∆°i (Li√™n t·ª•c sau khi m·ªü)
        function createFallingPetal() {
            const petal = document.createElement('span');
            petal.classList.add('falling-rose', 'text-xl', 'sm:text-2xl', 'absolute');
            petal.innerHTML = '&#x1F339;';
            const size = Math.random() * 10 + 15;
            petal.style.fontSize = `${size}px`;
            petal.style.left = `${Math.random() * 100}vw`;
            petal.style.opacity = `${Math.random() * 0.5 + 0.5}`;
            petal.style.animationDuration = `${Math.random() * 5 + 7}s`; // T·ªëc ƒë·ªô r∆°i
            petal.style.animationDelay = `-${Math.random() * 7}s`; // B·∫Øt ƒë·∫ßu r∆°i ngay
            fallingRoseContainer.appendChild(petal);

            // X√≥a ph·∫ßn t·ª≠ sau khi r∆°i xong ƒë·ªÉ t·ªëi ∆∞u hi·ªáu su·∫•t
            setTimeout(() => petal.remove(), 12000);
        }

        // --- H√ÄM HI·ªÜN CH·ªÆ D·∫¶N D·∫¶N ---

        function typeMessage(text, element, delay) {
            let i = 0;
            // Hi·ªán ch·ªØ v√† √°p d·ª•ng ki·ªÉu d√°ng
            element.style.opacity = '1';
            const typingInterval = setInterval(() => {
                if (i < text.length) {
                    let char = text.charAt(i);
                    if (char === '\n') {
                        element.innerHTML += '<br>';
                    } else {
                        element.innerHTML += char;
                    }
                    i++;
                } else {
                    clearInterval(typingInterval);
                    // Sau khi g√µ xong, √°p d·ª•ng ƒë·ªãnh d·∫°ng ƒë·∫≠m/m√†u cho c√°c t·ª´ kh√≥a
                    let finalHtml = element.innerHTML
                        .replace('*c√°c b·∫°n n·ªØ*', '<span class="font-bold text-pink-600">c√°c b·∫°n n·ªØ</span>')
                        .replace('*12A1*', '<span class="font-bold text-pink-600">12A1</span>')
                        .replace('*C√¥ gi√°o ch·ªß nhi·ªám*', '<span class="font-bold text-pink-600">C√¥ gi√°o ch·ªß nhi·ªám</span>');

                    // ƒê·ªãnh d·∫°ng ph·∫ßn ch·ªØ k√Ω
                    finalHtml = finalHtml.replace('Tr√¢n tr·ªçng,', '<p class="mt-6 font-semibold text-pink-600 text-right">Tr√¢n tr·ªçng,</p>');
                    finalHtml = finalHtml.replace('T·∫≠p th·ªÉ nam sinh 12A1.', '<p class="text-right">T·∫≠p th·ªÉ nam sinh 12A1.</p>');

                    element.innerHTML = finalHtml;
                }
            }, delay);
        }

        // --- H√ÄM CH√çNH M·ªû QU√Ä ---

        function openGift() {
            if (giftOpened) return;
            giftOpened = true;

            // 1. D·ª´ng rung l·∫Øc v√† ·∫©n text
            giftBoxContainer.classList.remove('gift-box-shake');
            document.querySelectorAll('.rainbow-text-glow').forEach(el => el.style.opacity = '0');

            // 2. Hi·ªáu ·ª©ng "pop" c·ªßa Emoji
            giftEmoji.style.transform = 'scale(2.5)';
            giftEmoji.style.opacity = '0';

            // 3. B·∫Øt ƒë·∫ßu lia cam (sau khi emoji bi·∫øn m·∫•t)
            setTimeout(() => {
                viewportContainer.classList.add('viewport-opened');
            }, 300); // 300ms cho hi·ªáu ·ª©ng pop

            // 4. K√≠ch ho·∫°t hi·ªáu ·ª©ng n·ªÅn li√™n t·ª•c
            document.body.classList.add('final-bg-pulse');
            document.body.style.backgroundColor = '#fb7185';

            // 5. Hi·ªÉn th·ªã √°nh s√°ng, ch·ªØ d·∫ßn d·∫ßn v√† hoa h·ªìng r∆°i (sau khi lia cam ho√†n t·∫•t)
            setTimeout(() => {
                // Hi·ªÉn th·ªã v√πng th√¥ng ƒëi·ªáp (√°nh s√°ng tr·∫Øng)
                giftMessageContainer.style.opacity = '1';

                // B·∫Øt ƒë·∫ßu g√µ ch·ªØ (40ms/k√Ω t·ª±)
                typeMessage(FULL_MESSAGE.trim(), messageContent, 40);

                // B·∫Øt ƒë·∫ßu hi·ªáu ·ª©ng hoa h·ªìng r∆°i li√™n t·ª•c (c·ª© 100ms l·∫°i th√™m m·ªôt c√°nh hoa)
                roseContainer.innerHTML = ''; // X√≥a hoa h·ªìng l∆° l·ª≠ng
                fallInterval = setInterval(createFallingPetal, 100);

            }, 3500); // 3.5s ƒë·ªÉ kh·ªõp v·ªõi transition c·ªßa viewport

            // NgƒÉn ng∆∞·ªùi d√πng click/ch·∫°m l·∫°i
            giftBoxContainer.onclick = null;
        }

    </script>

</body>
</html>

